<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Perfil de Usuario - Vulcano App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Estilos personalizados para fondo y card -->
   <link rel="stylesheet" href="../src/styles/usuario.css">
</head>
<body class="font-sans text-white">
  <!-- Navbar: igual que el resto del sitio -->
   <nav class="border-gray-200 bg-[#714C3A] dark:bg-[#5a3a2e] dark:border-gray-700">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
  <a href="../index.html" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="../src/assets/image/vulcano.png" class="h-8" alt="Flowbite Logo" />
      <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Vulcano APP</span>
  </a>
  <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
    <button data-collapse-toggle="navbar-cta" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-cta" aria-expanded="false">
    <span class="sr-only">Open main menu</span>
    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/></svg>
    </button>
  </div>
  <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-cta">
     <ul class="flex flex-col font-medium p-4 md:p-0 mt-4 rounded-lg bg-[#714C3A] md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:bg-[#714C3A] dark:bg-[#5a3a2e]">
  <li>
    <a href="../index.html" class="block py-2 px-3 md:p-0 text-white rounded-sm hover:bg-[#D2B48C] md:hover:bg-transparent md:hover:text-[#5A3A2E] dark:text-white dark:hover:bg-[#A57E5A] dark:hover:text-[#C19A6B] md:dark:hover:bg-transparent">Inicio</a>
  </li>
  <li>
    <a href="../public/aboutus.html" class="block py-2 px-3 md:p-0 text-white rounded-sm hover:bg-[#D2B48C] md:hover:bg-transparent md:hover:text-[#5A3A2E] dark:text-white dark:hover:bg-[#A57E5A] dark:hover:text-[#C19A6B] md:dark:hover:bg-transparent dark:border-gray-700">Nuestro Equipo</a>
  </li>
  <li>
    <a href="..//public/multimedia.html" class="block py-2 px-3 md:p-0 text-white rounded-sm hover:bg-[#D2B48C] md:hover:bg-transparent md:hover:text-[#5A3A2E] dark:text-white dark:hover:bg-[#A57E5A] dark:hover:text-[#C19A6B] md:dark:hover:bg-transparent">Multimedia</a>
  </li>
  <li>
    <a href="..//public/class.html" class="block py-2 px-3 md:p-0 text-white rounded-sm hover:bg-[#D2B48C] md:hover:bg-transparent md:hover:text-[#5A3A2E] dark:text-white dark:hover:bg-[#A57E5A] dark:hover:text-[#C19A6B] md:dark:hover:bg-transparent">Agendamiento de Clases</a>
  </li>
   <li>
    <a href="..//public/challenges.html" class="block py-2 px-3 md:p-0 text-white rounded-sm hover:bg-[#D2B48C] md:hover:bg-transparent md:hover:text-[#5A3A2E] dark:text-white dark:hover:bg-[#A57E5A] dark:hover:text-[#C19A6B] md:dark:hover:bg-transparent">Desafíos</a>
  </li>
  <li>
    <a href="../public/contact.html" class="block py-2 px-3 md:p-0 text-white rounded-sm hover:bg-[#D2B48C] md:hover:bg-transparent md:hover:text-[#5A3A2E] dark:text-white dark:hover:bg-[#A57E5A] dark:hover:text-[#C19A6B] md:dark:hover:bg-transparent">Contáctanos</a>
  </li>
    </ul>
  </div>
  </div>
</nav>

  <!-- Card de perfil de usuario -->
  <main>
    <section class="profile-card shadow-xl" aria-labelledby="profileTitle">
      <!-- Mostrar nombre de usuario obtenido del login -->
      <h1 id="profileTitle" class="text-2xl font-bold mb-2">Bienvenido, <span id="username">Usuario</span></h1>
      <p class="mb-4 text-[#D2B48C]">Este es tu perfil personal. Puedes subir una imagen para tu avatar.</p>
      <!-- Avatar y formulario de subida -->
      <form id="avatarForm" class="flex flex-col items-center gap-3" autocomplete="off">
        <img id="avatarPreview" src="../src/assets/image/vulcano.png" alt="Avatar" class="avatar-preview" />
        <input type="file" id="avatarInput" accept="image/*" class="block w-full text-sm text-gray-200 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#D2B48C] file:text-[#5A3A2E] hover:file:bg-[#A57E5A]" aria-label="Subir imagen de avatar" />
        <!-- El botón ya no persiste el avatar en localStorage; solo actualiza la vista -->
        <button type="button" id="avatarUpdateBtn" class="bg-[#D2B48C] hover:bg-[#A57E5A] text-[#5A3A2E] px-4 py-2 rounded font-semibold">Actualizar avatar</button>
      </form>
      <!-- Enlace configurable -->
      <div class="mt-6 text-center">
        <a id="customLink" href="../index.html" class="underline text-[#D2B48C] hover:text-[#A57E5A]">Cerrar Sesion</a>
      </div>
    </section>

    <section class="slider-3d-section">
    <div class="slider-3d-container">
        <div class="slider-3d-wrapper">
            
            <!-- Carta 1 -->
            <a href="https://quizizz.com/embed/quiz/681ec2e7a20942f83c408d44" class="card-3d" data-position="0">
                <img src="../src/assets/imagenes-multimedia/metodologias agiles.png" alt="Mundo Virtual" class="card-3d-image">
                <div class="card-3d-content">
                    <h3 class="card-3d-title">Metodologias agiles</h3>
                    <p class="card-3d-description">Aprende jugando los conceptos agiles y el trabajo en equipo de forma colaborativa en un entorno virtual.</p>
                </div>
            </a>

            <!-- Carta 2 -->
            <a href="https://quizizz.com/embed/quiz/671a3d865dd340cf53d564a5" class="card-3d" data-position="1">
                <img src="../src/assets/imagenes-multimedia/logicaprogramacion.png" alt="Logica de programacion" class="card-3d-image">
                <div class="card-3d-content">
                    <h3 class="card-3d-title">Logica de programacion</h3>
                    <p class="card-3d-description">Sumérgete en un universo de código y creatividad donde aprenderás programación de forma interactiva.</p>
                </div>
            </a>

            <!-- Carta 3 -->
            <a href="https://quizizz.com/embed/quiz/5f4eb517fdad49001b304276" class="card-3d" data-position="2">
                <img src="../src/assets/imagenes-multimedia/introduccionprogramacion1.png" alt="Introducción a la Programación" class="card-3d-image">
                <div class="card-3d-content">
                    <h3 class="card-3d-title">Introducción a la Programación</h3>
                    <p class="card-3d-description">Descubre lo impresionante que es programar en html y css y cómo puedes crear tus propias páginas web.</p>
                </div>
            </a>

        </div>

        <!-- Controles de navegación -->
        <div class="slider-3d-controls">
            <button class="control-3d-btn" id="prevBtn3D">◀</button>
            <button class="control-3d-btn" id="nextBtn3D">▶</button>
        </div>

        <!-- Indicadores -->
        <div class="slider-3d-indicators">
            <span class="indicator-dot active" data-index="0"></span>
            <span class="indicator-dot" data-index="1"></span>
            <span class="indicator-dot" data-index="2"></span>
        </div>
    </div>
</section>
  </main>

  <!-- Footer: igual que el resto del sitio -->
  <footer class="footer border-gray-200 bg-[#714C3A] dark:bg-[#5a3a2e] dark:border-gray-700 py-4 w-full">
    <div class="w-full max-w-screen-xl mx-auto p-4 md:py-8">
      <div class="sm:flex sm:items-center sm:justify-between">
        <a href="../index.html" class="flex items-center mb-4 sm:mb-0 space-x-3 rtl:space-x-reverse">
          <img src="../src/assets/image/vulcano.png" class="h-8" alt="Logo Vulcano" />
          <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Vulcano APP</span>
        </a>
        <ul class="flex flex-wrap items-center mb-6 text-sm font-medium text-white sm:mb-0 dark:text-white">
          <li><a href="../pages/nuestro_proyecto.html" class="hover:underline me-4 md:me-6">Nuestro Proyecto</a></li>
          <li><a href="../pages/nosotros.html" class="hover:underline me-4 md:me-6">Nuestro Equipo</a></li>
          <li><a href="../pages/contactanos.html" class="hover:underline">Contactanos</a></li>
        </ul>
      </div>
      <hr class="my-6 border-white sm:mx-auto dark:border-white lg:my-8" />
      <span class="block text-sm text-white sm:text-center dark:text-white">© 2025 <a href="https://flowbite.com/" class="hover:underline">Vulcano APP™</a>. All Rights Reserved.</span>
    </div>
  </footer>

  <!-- Script para mostrar nombre y manejar avatar -->
  <script>
    // Mostrar el nombre de usuario desde localStorage (guardado en login)
    document.addEventListener('DOMContentLoaded', function() {
      let user = null;
      try {
        user = JSON.parse(localStorage.getItem('vulcano_auth'));
      } catch(e) {}
      if (user && user.name) {
        document.getElementById('username').textContent = user.name;
      }
      // Nota: El avatar ya no se recupera ni se guarda en localStorage por pedido del usuario.
    });

    // Previsualizar avatar seleccionado (no se persiste en localStorage)
    const avatarInput = document.getElementById('avatarInput');
    const avatarPreview = document.getElementById('avatarPreview');
    avatarInput.addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(ev) {
        avatarPreview.src = ev.target.result;
      };
      reader.readAsDataURL(file);
    });

    // Botón de actualizar solo actualiza la vista (sin persistencia)
    document.getElementById('avatarUpdateBtn').addEventListener('click', function(e) {
      // Si se desea añadir validación o envío al servidor, se implementa aquí.
      // Actualmente sólo mantiene la imagen en la vista durante la sesión.
      if (!avatarPreview.src) {
        alert('Seleccione una imagen para actualizar su avatar.');
      }
    });
  </script>
  <script>
    (function() {
        const cards3D = document.querySelectorAll('.card-3d');
        const indicators = document.querySelectorAll('.indicator-dot');
        let currentPosition3D = 0;
        const totalCards3D = cards3D.length;

        function updateCards3D() {
            cards3D.forEach((card, index) => {
                const position = (index - currentPosition3D + totalCards3D) % totalCards3D;
                card.setAttribute('data-position', position);
            });

            // Actualizar indicadores
            indicators.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentPosition3D);
            });
        }

        // Botón siguiente
        document.getElementById('nextBtn3D').addEventListener('click', () => {
            currentPosition3D = (currentPosition3D + 1) % totalCards3D;
            updateCards3D();
        });

        // Botón anterior
        document.getElementById('prevBtn3D').addEventListener('click', () => {
            currentPosition3D = (currentPosition3D - 1 + totalCards3D) % totalCards3D;
            updateCards3D();
        });

        // Click en las cartas laterales
        cards3D.forEach((card) => {
            card.addEventListener('click', (e) => {
                const position = parseInt(card.getAttribute('data-position'));
                if (position !== 0) {
                    e.preventDefault();
                    if (position === 1) {
                        currentPosition3D = (currentPosition3D + 1) % totalCards3D;
                    } else if (position === 2) {
                        currentPosition3D = (currentPosition3D - 1 + totalCards3D) % totalCards3D;
                    }
                    updateCards3D();
                }
            });
        });

        // Click en indicadores
        indicators.forEach((dot) => {
            dot.addEventListener('click', () => {
                currentPosition3D = parseInt(dot.getAttribute('data-index'));
                updateCards3D();
            });
        });

        // Soporte para teclado (opcional)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                currentPosition3D = (currentPosition3D - 1 + totalCards3D) % totalCards3D;
                updateCards3D();
            } else if (e.key === 'ArrowRight') {
                currentPosition3D = (currentPosition3D + 1) % totalCards3D;
                updateCards3D();
            }
        });
    })();
</script>

</body>
</html>
